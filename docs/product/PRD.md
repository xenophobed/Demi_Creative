# 儿童创意工坊 - 产品需求文档 (PRD)

> **定位**: 本文档专注于产品功能定义，技术实现见 [ARCHITECTURE.md](ARCHITECTURE.md)，领域背景见 [DOMAIN.md](DOMAIN.md)

---

## 1. 产品概述

### 1.1 产品定位
儿童创意工坊是一个基于 AI Agent 的创意内容生成平台，为 3-12 岁儿童提供安全、有趣、富有教育意义的内容创作服务。

### 1.2 核心价值主张
- **激发创造力**: AI 将儿童画作转化为生动故事
- **互动参与**: 多分支互动故事，让儿童成为故事的创作者
- **个性化体验**: 记住每个孩子的创作历史，保持故事连续性
- **知识普及**: 将复杂新闻转化为儿童友好资讯
- **安全保障**: 所有内容经过严格审查，符合儿童内容标准

---

## 2. 目标用户

### 2.1 用户画像

**小明 (7岁) - 小画家**
- 喜欢画画，想看到自己的画"活"起来
- 对恐龙、太空、动物感兴趣
- 注意力集中时间：15-20分钟

**李女士 (35岁) - 家长**
- 关注儿童教育和内容安全
- 希望孩子接触有教育意义的内容
- 担心互联网上的不良内容

**张老师 (教师) - 教育工作者**
- 需要有趣的教学素材
- 希望激发学生创造力
- 寻找适合不同年龄段的内容

---

## 3. 核心功能

### 3.1 画作转故事 (Image-to-Story)

#### 功能描述
儿童上传画作，AI Agent 分析画作内容，生成个性化故事。

#### 用户场景
```
小明画了一只小狗在公园玩耍
  ↓
上传到系统
  ↓
AI 识别：小狗、树木、太阳、快乐情绪
AI 发现：小明上周也画过这只狗，叫"闪电"
  ↓
生成故事："闪电小狗今天又来到了它最喜欢的公园..."
  ↓
输出：文字故事 + 语音朗读
```

#### 输入
- **必填**: 画作图片 (PNG/JPG, 最大 10MB)
- **可选**: 儿童年龄、兴趣标签

#### 输出
- 故事文本 (200-500字，根据年龄调整)
- 语音朗读 (可选声音：温柔奶奶、调皮小精灵等)
- 教育要点总结

#### 特色功能
- **角色记忆**: 识别重复出现的角色（如"闪电小狗"），保持故事连续性
- **年龄适配**: 3-5岁简短故事（100-200字），6-8岁中等（200-400字），9-12岁更长（400-800字）
- **安全审查**: 自动过滤不适合儿童的内容

---

### 3.2 互动故事生成器 (Interactive Story)

#### 功能描述
基于儿童兴趣生成多分支互动故事，让儿童在关键点做出选择，影响故事走向。

#### 用户场景
```
小红想听恐龙故事
  ↓
AI 生成开篇："小恐龙发现了一个神秘山洞..."
  ↓
展示选择：
  A. 勇敢地走进去 🏔️
  B. 先回家叫上朋友 👫
  ↓
小红选择 A
  ↓
AI 生成下一段："小恐龙走进山洞，发现了发光的化石..."
  ↓
继续 2-4 轮，最终到达结局
  ↓
总结教育要点：勇气、科学探索精神
```

#### 两种模式

**线性模式** (Traditional)
- 一次性生成完整故事
- 适合睡前故事、阅读练习
- 300-800字

**互动模式** (Interactive)
- 分段生成，每段 100-300字
- 2-4 个决策点，每次 2-3 个选项
- 所有分支都是"好结局"（不惩罚儿童的选择）

#### 输入
- **必填**: 儿童年龄、兴趣标签（1-5个）
- **可选**: 故事主题、教育目标、互动模式

#### 输出
- 故事段落 + 语音朗读
- 互动选项（含emoji）
- 教育要点总结
- 会话ID（用于多轮对话）

#### 特色功能
- **个性化推荐**: 根据历史偏好调整主题
- **教育融合**: 自然融入 STEAM 和品德教育
- **语言适配**: 根据年龄自动调整词汇和句式复杂度

---

### 3.3 新闻儿童化转换器 (News-to-Kids)

#### 功能描述
将成人新闻转化为适合儿童理解的有趣资讯。

#### 用户场景
```
原新闻：SpaceX 成功发射 Starship 火箭，实现首次月球着陆

  ↓ AI 转换

儿童版：
标题：太空中的超级公交车飞向月球！

内容："科学家们造了一辆能飞向月球的'公交车'，
      它喷出巨大的火焰，'嗖'的一声就飞上了天空..."

为什么我要关心：
"将来你也许能坐着这样的'公交车'去月球旅行！"

关键概念：
- 火箭：像超级大炮，用火焰推动自己飞上天
- 月球：离我们最近的"邻居星球"

互动问题："你想去月球吗？你觉得月球上会有什么？"
```

#### 输入
- **必填**: 新闻URL 或 新闻文本
- **必填**: 目标年龄（3-12岁）
- **可选**: 新闻类别（科学/自然/文化/体育）

#### 输出
- 儿童版标题
- 儿童版内容 (100-300字)
- "为什么我要关心这个？" 模块
- 关键概念解释（用日常比喻）
- 互动问题

#### 转换规则
- 避免负面情绪词汇（战争、灾难、死亡等）
- 使用日常生活类比
- 保持好奇心和积极导向
- 删除不适合儿童的政治、经济细节

---

### 3.4 内容安全系统 (Safety Check)

#### 功能描述
对所有生成内容进行自动安全审查，确保符合儿童内容标准。

#### 审查维度

**负面内容过滤** (禁止)
- 暴力：打斗、血腥、武器
- 恐怖：鬼怪、黑暗、惊悚元素
- 不当语言：脏话、侮辱、歧视
- 成人话题：性、毒品、政治争议

**正向价值引导** (鼓励)
- 性别平等：避免刻板印象（医生总是男性）
- 文化多样性：展现不同文化、种族背景
- 品德教育：友谊、勇气、诚实、同理心
- 环保意识：爱护自然、保护动物

#### 输出
- 安全评分 (0.0-1.0)
- 问题列表（如有）
- 修改建议（如有）

#### 安全标准
- 分数 < 0.7：内容不通过，需要修改
- 分数 0.7-0.85：警告，建议修改
- 分数 > 0.85：通过

---

### 3.5 记忆管理系统 (Memory System)

#### 功能描述
记住每个孩子的创作历史和偏好，实现内容连续性。

#### 记忆类型

**角色记忆**
- 识别重复角色：如儿童多次画"闪电小狗"
- 保持一致性："闪电小狗"的特征在不同故事中保持
- 角色成长：随时间推移，角色可以"成长"

**偏好记忆**
- 兴趣追踪：记录儿童喜欢的主题（恐龙、太空等）
- 互动记录：记录儿童在互动故事中的选择偏好
- 学习进度：根据反馈调整内容难度

**故事关联**
- 历史引用："你还记得上次闪电小狗的冒险吗？"
- 主题延续：优先推荐儿童喜欢的主题
- 避免重复：不重复已讲过的故事

#### 实现方式
- 使用向量数据库存储内容嵌入
- 相似度搜索找到相关历史记录
- 隐私保护：仅存储创作内容，不存储个人敏感信息

---

### 3.6 我的创作库 (My Library) [Not Started]

#### 功能描述
统一的内容库，儿童可以浏览、搜索、收藏和回顾所有创作成果：画作故事、互动叙事和儿童新闻。创作库根据年龄组自适应展示，像一个"个人魔法书架"，随着孩子的创作不断成长。

#### 用户场景
```
儿童打开"我的创作库"
  ↓
看到所有创作，默认按最新排序
  ↓
使用标签筛选类型（画作故事 / 互动故事 / 新闻）
  ↓
可选：按关键词搜索、按日期或收藏排序
  ↓
点击星标收藏最喜欢的故事
  ↓
点击卡片回顾故事，或点击音频图标直接在库中收听
  ↓
家长切换到"成长"视图查看创作时间线
```

#### 功能特性
- **统一浏览**: 所有内容类型在一个视图中，每种类型有专属卡片设计
- **搜索**: 故事文本、标题、主题、角色的全文搜索
- **收藏**: 书签/星标系统，快速访问最爱内容
- **排序**: 按日期（最新/最旧）和收藏优先排序
- **音频预览**: 直接在库卡片上播放故事音频，无需跳转
- **网格/列表切换**: 紧凑网格和详细列表视图间切换
- **年龄适配**: UI 复杂度随年龄组自适应
- **成长时间线**: 可视化图表展示创作频率随时间的变化

#### 年龄适配

| 年龄组 | 展示方式 |
|--------|---------|
| 3-5岁 | 大卡片布局（每行最多2个），突出的音频播放按钮，少文字，emoji标签，无搜索栏（家长可搜索），彩色背景 |
| 6-8岁 | 中等卡片（每行2-3个），搜索栏可见，简单排序下拉，星标收藏，主题标签可见 |
| 9-12岁 | 紧凑网格（每行3-4个），完整搜索+排序+筛选控件，字数统计和阅读数据可见，成长时间线可访问，列表/网格切换 |

#### 内容安全要求
- 库中仅显示已通过安全审查的内容（safety_score >= 0.85）
- 收藏/书签操作不需要重新安全检查（内容在创建时已检查）
- 搜索不暴露中间/归档状态的不安全内容——仅已发布/候选生命周期状态可查询

#### 验收标准
- [ ] 库显示所有三种内容类型（画作故事、互动会话、新闻），统一卡片设计
- [ ] 标签筛选正常工作："全部"、"画作故事"、"互动"、"新闻"
- [ ] 搜索输入可按标题、故事文本预览、主题和角色名筛选
- [ ] 排序选项："最新优先"（默认）、"最旧优先"、"收藏优先"
- [ ] 每个库卡片上有收藏/取消收藏切换，持久化到后端
- [ ] 网格视图切换（网格显示更大缩略图）
- [ ] 所有内容类型的分页（"加载更多"）
- [ ] 库卡片上的音频迷你播放器：点击播放/暂停，无需离开库
- [ ] 库 UI 年龄适配（3-5: 大卡片; 6-8: 均衡; 9-12: 紧凑网格+数据）
- [ ] 成长时间线视图（简单图表显示创作数量随时间变化）
- [ ] 已认证用户看服务端数据，未认证用户回退到本地存储

#### 不在本期范围
- 分享/社交功能（涉及隐私和 COPPA 合规）
- 合集/文件夹整理（Phase 3 考虑）
- 批量操作（保持对儿童简单）
- 完整家长分析仪表盘（Phase 3）
- 导出/下载为 PDF（Phase 3）

> **GitHub Epic**: #49 | **Phase**: MVP | **Milestone**: MVP — Core Story Flow

---

## 4. 用户旅程

### 4.1 首次使用

```
Step 1: 家长注册账号
  ↓
Step 2: 创建儿童档案（年龄、兴趣）
  ↓
Step 3: 儿童上传第一幅画作
  ↓
Step 4: AI 生成第一个故事
  ↓
Step 5: 儿童听故事（文字 + 语音）
  ↓
Step 6: 系统记录：画作内容、兴趣标签、互动反馈
```

### 4.2 日常使用

```
场景 A: 画作转故事
  儿童画画 → 上传 → 5-10秒生成 → 听故事

场景 B: 互动故事
  选择主题 → 开始故事 → 做选择 → 继续故事 → 结局（重复2-4轮）

场景 C: 新闻资讯
  家长分享新闻 → AI 转换 → 和孩子一起阅读 → 讨论问题
```

### 4.3 长期使用

```
Week 1: 创作 3 个故事，系统识别兴趣：动物、冒险
  ↓
Week 2: 系统推荐相关主题，儿童创作角色"闪电小狗"
  ↓
Week 3: 系统记住"闪电小狗"，在新故事中继续使用
  ↓
Week 4: 角色"成长"，闪电小狗学会了新技能
  ↓
Month 3: 儿童创作了 20+ 个故事，形成自己的"故事宇宙"
```

---

## 5. 功能优先级

### MVP (Minimum Viable Product) - 第一阶段

**必须有**:
- ✅ 画作转故事（基础功能）
- ✅ 线性故事生成
- ✅ 内容安全审查
- ✅ 语音朗读（TTS）
- ✅ 基础记忆（识别重复角色）
- 🔲 我的创作库（统一内容浏览、搜索、收藏）

### Phase 2 - 第二阶段

**应该有**:
- 互动故事生成（多分支）
- 新闻转儿童资讯
- 高级记忆（偏好追踪、故事关联）
- 多种语音选择

### Phase 3 - 第三阶段

**可以有**:
- 动态绘本（画作元素动画）
- 视频生成（完整动画）
- 多语言支持
- 家长控制面板
- 激励勋章系统

---

## 6. 成功指标 (KPI)

### 使用指标
- **活跃度**: 儿童每周使用 3+ 次
- **完成率**: 互动故事完成率 > 80%
- **创作量**: 平均每用户每周创作 2+ 个故事

### 质量指标
- **家长满意度**: > 4.5/5.0
- **内容安全**: 不当内容通过率 < 0.1%
- **响应速度**: 故事生成 < 10 秒

### 教育效果
- **创造力**: 儿童主动创作频率提升 30%
- **阅读兴趣**: 阅读时长增加 50%
- **知识获取**: 能用自己的话解释新概念

---

## 7. 用户反馈与迭代

### 收集渠道
- 家长评分和评论
- 儿童互动行为分析（点击、完成率）
- A/B 测试不同故事风格

### 迭代方向
- 根据年龄段调整内容复杂度
- 优化互动分支设计
- 扩展兴趣主题库
- 改进安全审查准确性

---

## 8. 风险与限制

### 产品风险
- **内容质量**: AI 生成内容可能不够吸引人
  - 缓解：持续优化 Agent prompt，A/B 测试

- **安全漏洞**: AI 可能生成不当内容
  - 缓解：多层安全审查，人工抽检

- **隐私担忧**: 家长担心儿童数据安全
  - 缓解：符合 COPPA 标准，透明的隐私政策

### 技术限制
- **生成速度**: AI 生成需要 5-10 秒
  - 缓解：优化模型，使用流式输出

- **成本**: TTS 和 AI 调用成本较高
  - 缓解：缓存常用内容，批量处理

---

## 9. 竞品分析

### 现有产品

| 产品 | 特点 | 不足 |
|------|------|------|
| Story.com | AI 生成故事 | 无个性化，无记忆 |
| Storybird | 图片配文字 | 非 AI，需人工创作 |
| Epic! | 电子书库 | 被动阅读，无创作 |

### 我们的优势
- ✅ 基于儿童画作的个性化创作
- ✅ 记忆系统实现故事连续性
- ✅ 互动式多分支故事
- ✅ 严格的内容安全审查
- ✅ 教育目标融合

---

## 附录

### A. 相关文档
- [DOMAIN.md](./DOMAIN.md) - 领域背景和核心概念
- [ARCHITECTURE.md](../architecture/ARCHITECTURE.md) - 技术架构设计
- [DEVELOPMENT_WORKFLOW.md](../guides/DEVELOPMENT_WORKFLOW.md) - 开发工作流
- [README.md](../../README.md) - 项目简介和快速开始

### B. 参考标准
- COPPA (儿童在线隐私保护法)
- Common Core State Standards (分年龄阅读标准)
- ESRB Rating System (娱乐软件分级)
